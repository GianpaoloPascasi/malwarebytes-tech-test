## Backend framework: NestJS
This project was bootstrapped using `NestJS` because it's scalable, has a lot of addons and allows us to give a more solid structure to the project. Cons: it's slower in setting up than Express. ExpressJS gives us more freedom and surely is faster for a first-use but you need to be disciplined and keep the project structure under control to not fall in a mess when the codebase grows.

## Frontend framework:

## Auth: JWT
JWT is the best method to authenticate requests in a RESTful service. I used a widely downloaded npm packahe `jsonwebtoken`. It's not complex to setup and it's sufficient for the purpose of the project. Using other modules like Passport costed too much time. Plus, for how NestJS works, we can still do a little refactor and put in place another auth system.

## In memory storage: TypeORM + SQLite
I choose to use `TypeORM` because it will help us in case the project gets bigger. `SQLite` was a forced choice because it's the only dbms i know that allows in-memory storage. I could also use something like Redis (when i read or listen to "in-memory storage" i think to that) but I think that TypeORM is a better choice because:
- Supports the most used DBMS out there. Changing the DMBS during early stages of development requires little to no refactoring at all. 
- Data can be managed used the powerful TypeORM/SQL apis, for in-memory dbs also.
- SQLite gives us the SQL strenght without need to setup a database, so for development purposes saves some time.

## Setup the service
- First method: (only if you have node >= 18LTS) cd in the project root and first run `npm install` then `npm start`. (PS there is a env variable for the JWT secret which by default is hardcoded as "test" so you don't need to add anything to your env) 
- Second method: using docker-compose, run `docker-compose up` in the project root.
The server can be reached at localhost:3000.


## Consuming the service
- First of all you need to create an account using the /api/user/signup POST request (check the payload on the Postman collection)
- Then you need to login at POST /api/user/login to obtain a JWT.
- Now you can hit the /api/message/add-messages POST or /api/message/messages GET (using the jwt as Bearer token)

## Postman and Swagger
I have provided a `collection` to import in Postman (Postman -> Collections -> Import) (it has also a prerequest script to automaticcally set the Bearer header).<br>
If it doesn't work, NestJS comes with a Swagger addon, reachable at localhost:3000/api (ui) or localhost:3000/api-json to get a JSON file to import in Postman. Make sure to auth your request with an Authorization header with value "Bearer {YOUR_TOKEN}".

## Notes
Regarding the events notifications, in a real project i would have used something different from a simple setTimeout. The main problem is that when you have events in memory and a crash happens you will loose the entire queue. But for this case we have the entire db in memory, it's just an exercise so we can keep that.