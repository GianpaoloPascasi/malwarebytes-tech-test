import { RootState } from "../store";

export const selectIsLoggedIn = (state: RootState) =>
  state.user.jwt && state.user.user;

export const selectJWT = (state: RootState) => state.user.jwt;

export const selectUser = (state: RootState) => state.user.user;

export const selectOrder = (state: RootState) =>
  state.user.orders?.find((o) => o.status === 1);

export const selectTotalItemInCart =
  (activeOrderId?: number, itemId?: number) => (state: RootState) => {
    if (!activeOrderId || !itemId) {
      return 0;
    }
    return state.user.orders
      ?.find((o) => o.id === activeOrderId)
      ?.items.filter((itm) => itm.item.id === itemId).length;
  };
