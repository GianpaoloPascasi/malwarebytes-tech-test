import { PayloadAction } from "@reduxjs/toolkit";
import { Item } from "./items.slice";

export enum ITEMS_ACTIONS {
  FETCH_ALL = "ITEMS/FETCH_ALL",
  FETCH_BY_ID = "ITEMS/FETCH_BY_ID",
  ADD_ITEM_ORDER = "ITEM/ADD_TO_ORDER",
  REMOVE_ITEM_ORDER = "ITEM/REMOVE_FROM_ORDER",
  UPDATE_AND_SHOW_MODAL = "ITEM/UPDATE_AND_SHOW_MODAL",
}

export const fetchAllItems = (): PayloadAction<null> => ({
  type: ITEMS_ACTIONS.FETCH_ALL,
  payload: null,
});

export const fetchItemById = (id: number): PayloadAction<number> => ({
  type: ITEMS_ACTIONS.FETCH_ALL,
  payload: id,
});

export const addItemToOrder = (id: number): PayloadAction<number> => ({
  type: ITEMS_ACTIONS.ADD_ITEM_ORDER,
  payload: id,
});

export const removeItemFromOrder = (
  orderId: number,
  itemId: number
): PayloadAction<{ orderId: number; itemId: number }> => ({
  type: ITEMS_ACTIONS.REMOVE_ITEM_ORDER,
  payload: { orderId, itemId },
});

export const updateItemAndShowItemModal = (
  item: Item,
  userId: number
): PayloadAction<{ item: Item; userId: number }> => ({
  type: ITEMS_ACTIONS.UPDATE_AND_SHOW_MODAL,
  payload: { item, userId },
});
