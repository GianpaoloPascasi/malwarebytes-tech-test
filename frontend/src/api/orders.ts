import { Item } from "../store/items/items.slice";
import { Order } from "../store/user/user.slice";
import apiConfig, { apiAuthCall } from "./api";

export const OrdersApi = {
  create: (jwt: string) =>
    apiAuthCall(`${apiConfig.baseUrl}/api/order`, jwt, "POST", new Headers()),
  getAll: (jwt: string): Promise<Array<Order>> =>
    apiAuthCall(`${apiConfig.baseUrl}/api/order`, jwt, "GET", new Headers()),
  addItemToOrder: (
    orderId: number,
    itemId: number,
    jwt: string
  ): Promise<Array<Item>> =>
    apiAuthCall(`${apiConfig.baseUrl}/api/order/${itemId}/order/${orderId}`, jwt, "PUT"),
  removeItemFromOrder: (
    orderId: number,
    orderItemId: number,
    jwt: string
  ): Promise<Array<Item>> =>
    apiAuthCall(`${apiConfig.baseUrl}/api/order/${orderItemId}/order/${orderId}`, jwt, "DELETE"),
};
