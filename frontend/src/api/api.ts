const apiConfig = {
  baseUrl: process.env.BASE_URL,
};

type HttpMethod = "GET" | "POST" | "PUT" | "PATCH" | "DELETE";

export async function apiAuthCall(
  url: string,
  jwt: string,
  method: HttpMethod,
  headers?: Headers,
  body?: any
) {
  if (!headers) {
    headers = new Headers();
  }
  headers.append("Authorization", `Bearer ${jwt}`);
  const response = await fetch(url, {
    method,
    headers,
    body,
  });
  const data = await response.json();
  return data;
}

export async function apiCall(
  url: string,
  method: HttpMethod,
  headers?: Headers,
  body?: any
) {
  const response = await fetch(url, {
    method,
    headers,
    body,
  });
  const data = await response.json();
  return data;
}

export default apiConfig;
